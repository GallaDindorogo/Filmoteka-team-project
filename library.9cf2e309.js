var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},e.parcelRequired7c6=t),t("krGWQ"),t("4aPXr");var s=t("4aPXr"),i=t("krGWQ");const a=new(0,s.SStorage);(0,i.getRefs)().libraryLogo.addEventListener("click",(function(){a.clear()})),t("2lP43"),t("3tw01");var l=t("hqPq9"),g=t("sgMsR"),o=(i=t("krGWQ"),t("gzWlL")),f=(o=t("gzWlL"),t("fK7aK")),c=(f=t("fK7aK"),t("4AmR3"));c=t("4AmR3");const d=(0,i.getRefs)();d.libraryBtnQ.addEventListener("click",(function(){d.libraryBtnW.classList.remove("current-btn"),d.libraryBtnQ.classList.add("current-btn"),g.fbFilmsAuth.isLogin&&((0,o.spinnerOn)(),(0,c.emptyLibraryHide)(),d.library.innerHTML="",async function(){if(g.fbFilmsAuth.isLogin)try{const e=await l.fbFilmsData.getFilms(l.PLACE_Q);if(e)return e}catch(e){console.log(e)}}().then((({films:e})=>e.map((({id:e,posters:n,title:r,genres:t,year:s,vote:i})=>({id:e,posters:n,title:r,genres:t,year:s,vote:i}))))).then((e=>{0!==e.length&&(e.forEach((e=>{1===e.genres.length&&(e.genres=[e.genres[0].name]),2===e.genres.length&&(e.genres=[e.genres[0].name,e.genres[1].name]),e.genres.length>2&&(e.genres=[e.genres[0].name,e.genres[1].name,"Other"])})),(0,o.spinnerOff)(),(0,f.renderMarkupList)(d.library,e,f.markupCreating)),0===e.length&&((0,o.spinnerOff)(),(0,c.emptyLibraryShow)())})))}));l=t("hqPq9"),g=t("sgMsR"),i=t("krGWQ"),o=t("gzWlL"),o=t("gzWlL"),f=t("fK7aK"),f=t("fK7aK"),c=t("4AmR3"),c=t("4AmR3");t("ihsYy"),t("7jxxg"),t("ihsYy");const m=(0,i.getRefs)();async function h(){if(g.fbFilmsAuth.isLogin)try{const e=await l.fbFilmsData.getFilms(l.PLACE_W);if(e)return e}catch(e){console.log(e)}}function u(e){return e.forEach((e=>{1===e.genres.length&&(e.genres=[e.genres[0].name]),2===e.genres.length&&(e.genres=[e.genres[0].name,e.genres[1].name]),e.genres.length>2&&(e.genres=[e.genres[0].name,e.genres[1].name,"Other"])}))}m.libraryBtnW.addEventListener("click",(function(){m.libraryBtnW.classList.add("current-btn"),m.libraryBtnQ.classList.remove("current-btn"),g.fbFilmsAuth.isLogin&&((0,o.spinnerOn)(),(0,c.emptyLibraryHide)(),m.library.innerHTML="",h().then((({films:e})=>e.map((({id:e,posters:n,title:r,genres:t,year:s,vote:i})=>({id:e,posters:n,title:r,genres:t,year:s,vote:i}))))).then((e=>{0!==e.length&&(u(e),(0,o.spinnerOff)(),(0,f.renderMarkupList)(m.library,e,f.markupCreating)),0===e.length&&((0,o.spinnerOff)(),(0,c.emptyLibraryShow)())})))})),t("ihsYy");new(0,t("6sNdw").default);
//# sourceMappingURL=library.9cf2e309.js.map
