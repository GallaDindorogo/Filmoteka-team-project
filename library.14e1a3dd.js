var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,r){n[e]=r},e.parcelRequired7c6=t),t("krGWQ"),t("4aPXr");var i=t("4aPXr"),s=t("krGWQ");const a=new(0,i.SStorage);(0,s.getRefs)().libraryLogo.addEventListener("click",(function(){a.clear()})),t("2lP43"),t("3tw01"),t("cgCOF"),t("hJCi4");var l=t("hqPq9"),g=t("sgMsR"),o=(s=t("krGWQ"),t("gzWlL")),f=(o=t("gzWlL"),t("fK7aK")),c=(f=t("fK7aK"),t("4AmR3"));c=t("4AmR3");const h=(0,s.getRefs)();h.libraryBtnQ.addEventListener("click",(function(){h.libraryBtnW.classList.remove("current-btn"),h.libraryBtnQ.classList.add("current-btn"),g.fbFilmsAuth.isLogin&&(h.library.classList.add("min-height"),(0,o.spinnerOn)(),(0,c.emptyLibraryHide)(),h.library.innerHTML="",async function(){if(g.fbFilmsAuth.isLogin)try{const e=await l.fbFilmsData.getFilms(l.PLACE_Q);if(e)return e}catch(e){console.log(e)}}().then((({films:e})=>e.map((({id:e,posters:r,title:n,genres:t,year:i,vote:s})=>({id:e,posters:r,title:n,genres:t,year:i,vote:s}))))).then((e=>{0!==e.length&&(e.forEach((e=>{1===e.genres.length&&(e.genres=[e.genres[0].name]),2===e.genres.length&&(e.genres=[e.genres[0].name,e.genres[1].name]),e.genres.length>2&&(e.genres=[e.genres[0].name,e.genres[1].name,"Other"])})),(0,o.spinnerOff)(),(0,f.renderMarkupList)(h.library,e,f.markupCreating)),0===e.length&&(h.library.classList.remove("min-height"),(0,o.spinnerOff)(),(0,c.emptyLibraryShow)())})))}));l=t("hqPq9"),g=t("sgMsR"),s=t("krGWQ"),o=t("gzWlL"),o=t("gzWlL"),f=t("fK7aK"),f=t("fK7aK"),c=t("4AmR3"),c=t("4AmR3");t("ihsYy"),t("7jxxg"),t("ihsYy");const d=(0,s.getRefs)();async function m(){if(g.fbFilmsAuth.isLogin)try{const e=await l.fbFilmsData.getFilms(l.PLACE_W);if(e)return e}catch(e){console.log(e)}}function y(e){return e.forEach((e=>{1===e.genres.length&&(e.genres=[e.genres[0].name]),2===e.genres.length&&(e.genres=[e.genres[0].name,e.genres[1].name]),e.genres.length>2&&(e.genres=[e.genres[0].name,e.genres[1].name,"Other"])}))}d.libraryBtnW.addEventListener("click",(function(){d.libraryBtnW.classList.add("current-btn"),d.libraryBtnQ.classList.remove("current-btn"),g.fbFilmsAuth.isLogin&&(d.library.classList.add("min-height"),(0,o.spinnerOn)(),(0,c.emptyLibraryHide)(),d.library.innerHTML="",m().then((({films:e})=>e.map((({id:e,posters:r,title:n,genres:t,year:i,vote:s})=>({id:e,posters:r,title:n,genres:t,year:i,vote:s}))))).then((e=>{0!==e.length&&(y(e),(0,o.spinnerOff)(),(0,f.renderMarkupList)(d.library,e,f.markupCreating)),0===e.length&&(d.library.classList.remove("min-height"),(0,o.spinnerOff)(),(0,c.emptyLibraryShow)())})))})),t("ihsYy");new(0,t("6sNdw").default);
//# sourceMappingURL=library.14e1a3dd.js.map
